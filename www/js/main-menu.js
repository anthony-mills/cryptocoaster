CryptoCoaster.MainMenu=function(a){this.gameMenu={}},CryptoCoaster.MainMenu.prototype={create:function(){if(sessionStorage.btcPrice||(sessionStorage.btcPrice=JSON.stringify(this.cache.getJSON("btcprice"))),!sessionStorage.newsData){var a=this.cache.getJSON("coindeskNews"),t=this.cache.getJSON("bitcoinistNews"),e=a.items.concat(t.items);sessionStorage.newsData=JSON.stringify(e)}var i=JSON.parse(sessionStorage.btcPrice),r=localStorage.high_score;r&&(r=JSON.parse(r),CryptoCoaster.data.highScore=r.highScore),CryptoCoaster.data.screamSound=this.game.add.audio("screams"),CryptoCoaster.data.gameBg=this.add.tileSprite(0,0,800,490,"gameBg"),CryptoCoaster.data.gameBg.fixedToCamera=!0;var s=this.game.add.bitmapText(.5*this.game.camera.width,20,"market","Crypto",70);s.x=.5*this.game.camera.width-180,s.tint=8190976,s.fixedToCamera=!0;var o=this.game.add.bitmapText(.5*this.game.camera.width,20,"market","Coaster",70);o.x=.5*this.game.camera.width-20,o.tint=13173764,o.fixedToCamera=!0,this.cursors=this.game.input.keyboard.createCursorKeys(),this.spaceBar=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);var h=i.market_data[i.market_data.length-1];if(h.percent_change_24h<0)var m="0xc90404";else m="0x7CFC00";var d=this.game.add.bitmapText(.5*this.game.camera.width,200,"market","Current Price: $"+h.price_usd,40);d.x=.5*this.game.camera.width-.5*d.width,d.tint=m,d.fixedToCamera=!0;var c=this.game.add.bitmapText(.5*this.game.camera.width,250,"market","Percent Change 24h: "+h.percent_change_24h+"%",30);c.x=.5*this.game.camera.width-.5*d.width,c.tint=m,c.fixedToCamera=!0;var g=this.game.add.bitmapText(.5*this.game.camera.width,300,"market","Highscore: "+CryptoCoaster.data.highScore,30);g.x=.5*this.game.camera.width-.5*g.width,g.tint=m,g.fixedToCamera=!0,this.gameMenu.shoot=this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR),this.activeCoasters=this.game.add.group(),this.CoasterTimer=this.game.time.create(!1),CryptoCoaster.data.activeCoasters=this.activeCoasters,CryptoCoaster.data.gameObj=this.game,this.CoasterTimer.loop(15*Phaser.Timer.SECOND,this.CoasterSetup),this.CoasterTimer.start(),this.CoasterSetup();var n=this.game.add.bitmapText(.5*this.game.camera.width,430,"market","Space to continue",30);n.tint=13173764,n.x=.5*this.game.camera.width-.5*n.width,n.fixedToCamera=!0},CoasterSetup:function(){CryptoCoaster.data.screamSound.play();var a=CryptoCoaster.data.gameObj.add.sprite(1e3,100,"gameItems","title_coaster.png");CryptoCoaster.data.gameObj.physics.enable(a,Phaser.Physics.ARCADE),a.body.allowGravity=!1,a.body.velocity.x=-180,CryptoCoaster.data.activeCoasters.add(a)},update:function(){this.gameMenu.shoot.isDown&&this.startGame(),this.activeCoasters.forEach(function(a){a.x<-300&&a.kill()},this),(this.cursors.up.isDown||this.spaceBar.isDown)&&this.startGame()},render:function(){},startGame:function(){this.state.start("Game",!0)}};